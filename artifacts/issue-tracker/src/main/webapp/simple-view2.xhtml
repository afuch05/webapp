<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Main Page</title>
    </h:head>
    <h:body>
        <h:form>
            <h:outputStylesheet name="default.css" library="css" />
            <h:outputStylesheet name="cssLayout.css" library="css" />
        </h:form>

        <div id="top" class="top">
            <h1>Issue View</h1>
        </div>
        <div>
            <div id="left">
            </div>

            <div id="content" class="left_content">
				<h:form id="allIssuesForm">
                	<h:dataTable 
		                		id="allIssuesTable"
		                		value="#{requestBean.allIssues}"
		                		var="issue"
		                        rowClasses="table-row-odd,table-row-even">
	                    <h:column>
	                        <f:facet name="header">
	                            <h:outputText value="ID" />
	                        </f:facet>
	                        <h:outputText value="#{issue.id}" />
	                    </h:column>
	                    <h:column>
	                        <f:facet name="header">
	                            <h:outputText value="Title" />
	                        </f:facet>
	                        <h:outputText id="title" value="#{issue.title}" />
	                    </h:column>
	                    <h:column>
	                        <f:facet name="header">
	                            <h:outputText value="Status" />
	                        </f:facet>
	                        <h:outputText id="status" value="#{issue.status}" />
	                    </h:column>
	                    <h:column>
	                        <f:facet name="header">
	                            <h:outputText value="Actions" />
	                        </f:facet>
	                        <h:commandButton action="#{issueManager.editIssue(issue)}" value="Edit" />
	                        
	                        <h:commandButton 
	                    		action="#{simple.archive(issue)}" 
	                    		value="Archive"
	                    		disabled="#{issue.status != 'OPEN'}" />
	                    </h:column>
                	</h:dataTable>
                </h:form>
            </div>
        </div>        
        
    </h:body>
</html>
